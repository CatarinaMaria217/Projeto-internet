<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projecto - organizador de links</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  </head>  

  <body>

  <style>
    body.dark-mode {
      background-color: #121212;
      color: #ffffff;
    }

    .dark-mode .card {
      background-color: #1e1e1e;
      color: #ffffff;
    }

    .dark-mode a.btn {
      background-color: #333;
      border-color: #555;
    }

    .dark-mode a.btn:hover {
      background-color: #444;
    }

    body.pink-mode {
      background-color: #3e112c;
      color: #ffffff;
    }

    .pink-mode .card {
      background-color: #631348;
      color: #ffffff;
    }

    .pink-mode a.btn {
      background-color: #b05b96;
      border-color: #c988b9;
    }

    .pink-mode a.btn:hover {
      background-color: #c988b9;
    }

    body.orange-mode {
      background-color: #8a3300;
      color: #ffffff;
    }

    .orange-mode .card {
      background-color: #b33c08;
      color: #ffffff;
    }

    .orange-mode a.btn {
      background-color: #c2562c;
      border-color: #ff823f;
    }

    .orange-mode a.btn:hover {
      background-color: #ff9437;
    }

  </style>
  
  <nav class="navbar navbar-expand-lg bg-body-tertiary">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">Organizer</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarText">
        <ul class="navbar-nav me-auto mb-2 mb-lg-0">
          <li class="nav-item">
            <a class="nav-link" href="home.html">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="perfil.html">Perfil</a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="">Defenições</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="index.html">Sair</a>
          </li>
        </ul>
        <span class="navbar-text" id="nome-usuário">
          Bem-vindo -Nome utilizador-
        </span>
      </div>
    </div>
  </nav>
  	<div style="display: flex; margin-top: 50px; margin-left: 80px; gap: 40px;">
      <div class="card" style="width: 18rem; margin-top: 150px; margin-left: 100px;">
        <img src="https://npr.brightspotcdn.com/a3/c0/29c4ccdb4f1faacb8c5f0a4defd3/adobestock-238657363.jpeg" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">Dark Mode</h5>
            <p class="card-text">Menos brilho, mais estilo. Descansa os olhos e navega com classe.</p>
            <a href="#" class="btn btn-primary" onclick="toggleDarkMode()">Dark Mode</a>
          </div>
      </div>

      <div class="card" style="width: 18rem; margin-top: 150px; margin-left: 100px;">
        <img src="https://img.elo7.com.br/product/zoom/4494F2F/painel-paisagem-rosa-11-2-00x1-50-paisagem.jpg" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">Pink Mode</h5>
            <p class="card-text">Um toque de cor e charme. Transforma a tua navegação num ambiente leve, doce e moderno.</p>
            <a href="#" class="btn btn-primary" onclick="togglePinkMode()">Pink Mode</a>
          </div>
      </div>
      <div class="card" style="width: 18rem; margin-top: 150px; margin-left: 100px;">
        <img src="https://cdn.pixabay.com/photo/2023/02/21/07/12/sunset-7803651_1280.jpg" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">Orange Mode</h5>
            <p class="card-text">Energia e calor num só clique. Um visual vibrante para uma navegação cheia de vida.</p>
            <a href="#" class="btn btn-primary" onclick="toggleOrangeMode()">Orange Mode</a>
          </div>
      </div>
    </div>

    <script>
      // Ativa ou desativa dark mode e guarda no localStorage
      function toggleDarkMode() {
        document.body.classList.toggle("dark-mode");
        const isDark = document.body.classList.contains("dark-mode");
        localStorage.setItem("dark-mode", isDark);
      }

      // Aplica dark mode ao carregar a página se estiver guardado
      window.onload = function () {
        if (localStorage.getItem("dark-mode") === "true") {
          document.body.classList.add("dark-mode");
        }
      };
    </script>

    <script>
      // Ativa modo e guarda no localStorage
      function setTheme(themeName) {
        // Limpa todos os temas primeiro
        document.body.classList.remove("dark-mode", "pink-mode", "orange-mode");
        // Aplica novo tema
        if (themeName) {
          document.body.classList.add(themeName);
          localStorage.setItem("theme", themeName);
        } else {
          localStorage.removeItem("theme");
        }
      }

      function toggleDarkMode() {
        const isActive = document.body.classList.contains("dark-mode");
        setTheme(isActive ? null : "dark-mode");
      }

      function togglePinkMode() {
        const isActive = document.body.classList.contains("pink-mode");
        setTheme(isActive ? null : "pink-mode");
      }

      function toggleOrangeMode() {
        const isActive = document.body.classList.contains("orange-mode");
        setTheme(isActive ? null : "orange-mode");
      }

      // Aplica tema guardado ao carregar a página
      window.onload = function () {
        const savedTheme = localStorage.getItem("theme");
        if (savedTheme) {
          document.body.classList.add(savedTheme);
        }
      };
    </script>

        <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Verifica se o usuário está logado
        if (localStorage.getItem("userLogged") !== "true") {
          alert("Você precisa fazer login primeiro!");
          window.location.href = "index.html"; // Redireciona para o login
          return; // Importante para parar o código aqui
        }

        const username = localStorage.getItem("username");
        const nomeUsuarioEl = document.getElementById("nome-usuário");
        if (nomeUsuarioEl && username) {
          nomeUsuarioEl.textContent = username;
        }

        const fotoPerfilEl = document.getElementById("foto-perfil");
        const fotoPerfil = localStorage.getItem(`imagemPerfil_${username}`);
        if (fotoPerfilEl && fotoPerfil) {
          fotoPerfilEl.src = fotoPerfil;
          fotoPerfilEl.style.display = "block"; // Torna a foto visível
        }

        // Função de logout
        window.logout = function () {
          localStorage.removeItem("userLogged");
          localStorage.removeItem("username");
          window.location.href = "index.html";
        };
      });
    </script>

  </body>
</html>

